{"version":3,"sources":["../../../src/controllers/user/login.js"],"names":["login","req","res","next","User","findOne","email","body","user","token","jwt","sign","_id","process","env","TOKEN_SECRET","header","json","render","status","data"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;;AAEA,IAAMA,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAG,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACOC,iBAAKC,OAAL,CAAa;AAAEC,cAAAA,KAAK,EAAEL,GAAG,CAACM,IAAJ,CAASD;AAAlB,aAAb,CADP;;AAAA;AACNE,YAAAA,IADM;AAENC,YAAAA,KAFM,GAEEC,yBAAIC,IAAJ,CAAS;AAAEC,cAAAA,GAAG,EAAEJ,IAAI,CAACI;AAAZ,aAAT,EAA4BC,OAAO,CAACC,GAAR,CAAYC,YAAxC,CAFF;AAGZb,YAAAA,GAAG,CAACc,MAAJ,CAAW,YAAX,EAAyBP,KAAzB;AAEAP,YAAAA,GAAG,CAACe,IAAJ,CAASC,MAAM,CAACV,IAAD,CAAf;;AALY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAALR,KAAK;AAAA;AAAA;AAAA,GAAX;;AAQA,IAAMkB,MAAM,GAAG,SAATA,MAAS,CAAAV,IAAI,EAAI;AACrB,SAAO;AACLW,IAAAA,MAAM,EAAE,IADH;AAELC,IAAAA,IAAI,EAAEZ;AAFD,GAAP;AAID,CALD;;eAOeR,K","sourcesContent":["import jwt from \"jsonwebtoken\";\r\n\r\nimport User from \"../../models/User\";\r\n\r\nconst login = async (req, res, next) => {\r\n  const user = await User.findOne({ email: req.body.email });\r\n  const token = jwt.sign({ _id: user._id }, process.env.TOKEN_SECRET);\r\n  res.header(\"auth-token\", token);\r\n\r\n  res.json(render(user));\r\n};\r\n\r\nconst render = user => {\r\n  return {\r\n    status: 1000,\r\n    data: user\r\n  };\r\n};\r\n\r\nexport default login;\r\n"],"file":"login.js"}